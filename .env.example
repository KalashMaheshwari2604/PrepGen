# PrepGen AI Service - Environment Configuration
# Copy this file to .env and update values as needed

# ============================================
# APPLICATION SETTINGS
# ============================================
DEBUG=false
HOST=0.0.0.0
PORT=8000

# ============================================
# FILE UPLOAD SETTINGS
# ============================================
MAX_FILE_SIZE_MB=50
UPLOAD_DIR=./temp_uploads

# ============================================
# SESSION MANAGEMENT
# ============================================
SESSION_TIMEOUT_MINUTES=60
CLEANUP_INTERVAL_MINUTES=15

# ============================================
# CACHING SETTINGS (NEW!)
# ============================================
ENABLE_EMBEDDING_CACHE=true
CACHE_DIR=./cache
CACHE_MAX_AGE_HOURS=24

# ============================================
# AI MODEL SETTINGS
# ============================================
# Leave blank for auto-detection (cuda if available, else cpu)
MODEL_DEVICE=

# Embedding model from sentence-transformers
EMBEDDING_MODEL_NAME=all-MiniLM-L6-v2

# Path to custom fine-tuned T5 model
CUSTOM_SUMMARY_MODEL_PATH=./my_final_cnn_model

# ============================================
# TEXT PROCESSING
# ============================================
CHUNK_SIZE=768
CHUNK_OVERLAP=100

# ============================================
# QUIZ GENERATION
# ============================================
DEFAULT_NUM_QUESTIONS=3
MAX_NUM_QUESTIONS=10

# ============================================
# RAG (Retrieval Augmented Generation)
# ============================================
RAG_TOP_K_CHUNKS=5
RAG_MAX_CONTEXT_CHARS=12000

# ============================================
# LLM GENERATION PARAMETERS
# ============================================
LLM_MAX_TOKENS_SUMMARY=768
LLM_MAX_TOKENS_QUIZ=2048
LLM_MAX_TOKENS_ANSWER=512
LLM_TEMPERATURE=0.7

# ============================================
# ERROR HANDLING & RETRY LOGIC (NEW!)
# ============================================
ENABLE_RETRY=true
MAX_RETRIES=3
RETRY_INITIAL_DELAY=1.0
RETRY_MAX_DELAY=60.0

# ============================================
# CIRCUIT BREAKER (NEW!)
# ============================================
ENABLE_CIRCUIT_BREAKER=true
CB_FAILURE_THRESHOLD=5
CB_TIMEOUT=60.0

# ============================================
# LOGGING (NEW!)
# ============================================
LOG_DIR=./logs
LOG_LEVEL=INFO

# ============================================
# PERFORMANCE MONITORING (NEW!)
# ============================================
ENABLE_PERFORMANCE_MONITORING=true
